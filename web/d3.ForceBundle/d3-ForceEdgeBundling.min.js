(function(){d3.ForceEdgeBundling=function(){function V(a,b){return a.x*b.x+a.y*b.y}function M(a){return{x:c[a.target].x-c[a.source].x,y:c[a.target].y-c[a.source].y}}function n(a){return 1E-6>Math.abs(c[a.source].x-c[a.target].x)&&1E-6>Math.abs(c[a.source].y-c[a.target].y)?1E-6:Math.sqrt(Math.pow(c[a.source].x-c[a.target].x,2)+Math.pow(c[a.source].y-c[a.target].y,2))}function W(a){return Math.sqrt(Math.pow(a.source.x-a.target.x,2)+Math.pow(a.source.y-a.target.y,2))}function X(a){return{x:(c[a.source].x+
c[a.target].x)/2,y:(c[a.source].y+c[a.target].y)/2}}function z(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))}function A(a,b){var c=Math.sqrt((b.target.x-b.source.x)*(b.target.x-b.source.x)+(b.target.y-b.source.y)*(b.target.y-b.source.y)),c=((b.source.y-a.y)*(b.source.y-b.target.y)-(b.source.x-a.x)*(b.target.x-b.source.x))/(c*c);return{x:b.source.x+c*(b.target.x-b.source.x),y:b.source.y+c*(b.target.y-b.source.y)}}function N(a){for(var b=0;b<m.length;b++)if(1==a)d[b].push(c[m[b].source]),
d[b].push(X(m[b])),d[b].push(c[m[b].target]);else{for(var B=b,g=0,f=1;f<d[B].length;f++)var k=z(d[B][f],d[B][f-1]),g=g+k;g=B=g/(a+1);f=[];f.push(c[m[b].source]);for(k=1;k<d[b].length;k++){for(var h=z(d[b][k],d[b][k-1]);h>g;){var l=g/h,n=d[b][k-1].x,r=d[b][k-1].y,n=n+l*(d[b][k].x-d[b][k-1].x),r=r+l*(d[b][k].y-d[b][k-1].y);f.push({x:n,y:r});h-=g;g=B}g-=h}f.push(c[m[b].target]);d[b]=f}}function O(a,b){var d=A(c[b.source],{source:c[a.source],target:c[a.target]}),g=A(c[b.target],{source:c[a.source],target:c[a.target]});
return Math.max(0,1-2*z({x:(c[a.source].x+c[a.target].x)/2,y:(c[a.source].y+c[a.target].y)/2},{x:(d.x+g.x)/2,y:(d.y+g.y)/2})/z(d,g))}var c={},m=[],C=[],d=[],D=.1,E=.1,F=2,G=6,H=90,I=.6666667,J=.6,f=function(){for(var a=E,b=H,f=1,g=0;g<m.length;g++)d[g]=[];for(g=0;g<m.length;g++)C[g]=[];N(f);for(e=0;e<m.length-1;e++)for(oe=e+1;oe<m.length;oe++){if(g=e!=oe)var w=m[e],g=m[oe],k=w,h=g,k=Math.abs(V(M(k),M(h))/(n(k)*n(h))),h=w,l=g,y=(n(h)+n(l))/2,h=2/(y/Math.min(n(h),n(l))+Math.max(n(h),n(l))/y),k=k*h,
h=w,l=g,y=(n(h)+n(l))/2,h=y/(y+z({x:(c[h.source].x+c[h.target].x)/2,y:(c[h.source].y+c[h.target].y)/2},{x:(c[l.source].x+c[l.target].x)/2,y:(c[l.source].y+c[l.target].y)/2})),k=k*h,g=Math.min(O(w,g),O(g,w)),g=k*g>=J;g&&(C[e].push(oe),C[oe].push(e))}for(g=0;g<G;g++){for(w=0;w<b;w++){k=[];for(h=0;h<m.length;h++){for(var l=k,r=y=h,A=f,Q=a,R=D/(n(m[r])*(A+1)),K=[{x:0,y:0}],x=1;x<A+1;x++){var L={x:0,y:0},p;if(x<d[r].length){p=d[r][x-1];var v=d[r][x+1],q=d[r][x],u=void 0,t=void 0;x===d[r].length-1?(u=Math.abs(p.x-
q.x),t=Math.abs(p.y-q.y)):(u=p.x-q.x+v.x-q.x,t=p.y-q.y+v.y-q.y);u*=R;t*=R;p={x:u,y:t}}else p={x:0,y:0};spring_force=p;p=r;v=x;q={x:0,y:0};u=C[p];window.sbd=d;for(t=0;t<u.length;t++){var S=d[u[t]][v].x-d[p][v].x,T=d[u[t]][v].y-d[p][v].y;if(1E-6<Math.abs(S)||1E-6<Math.abs(T)){var U=1/Math.pow(W({source:d[u[t]][v],target:d[p][v]}),1);q.x+=S*U;q.y+=T*U}}electrostatic_force=q;L.x=Q*(spring_force.x+electrostatic_force.x);L.y=Q*(spring_force.y+electrostatic_force.y);K.push(L)}K.push({x:0,y:0});l[y]=K}for(h=
0;h<m.length;h++)for(l=0;l<f+1&&l<d[h].length;l++)d[h][l].x+=k[h][l].x,d[h][l].y+=k[h][l].y}a/=2;f*=F;b*=I;N(f)}return d};f.nodes=function(a){if(0==arguments.length)return c;c=a;return f};f.edges=function(a){if(0==arguments.length)return m;for(var b=[],d=0;d<a.length;d++)c[a[d].source].x==c[a[d].target].x&&c[a[d].source].y==c[a[d].target].y||b.push(a[d]);m=b;return f};f.bundling_stiffness=function(a){if(0==arguments.length)return D;D=a;return f};f.step_size=function(a){if(0==arguments.length)return E;
E=a;return f};f.cycles=function(a){if(0==arguments.length)return G;G=a;return f};f.iterations=function(a){if(0==arguments.length)return H;H=a;return f};f.iterations_rate=function(a){if(0==arguments.length)return I;I=a;return f};f.subdivision_points_seed=function(a){if(0==arguments.length)return P;P=a;return f};f.subdivision_rate=function(a){if(0==arguments.length)return F;F=a;return f};f.compatibility_threshold=function(a){if(0==arguments.length)return J;J=a;return f};return f}})();